<div class="container">
  <form [formGroup]="addressForm" (ngSubmit)="onSubmit()" class="address-form">
    <h2 class="form-title">Dirección</h2>

    <!-- Campo País (México, deshabilitado) -->
    <div class="form-group">
      <label for="country" class="form-label">País</label>
      <input id="country" formControlName="country" class="form-control" value="México" readonly />
    </div>

    <!-- Campo Nombre Completo (deshabilitado) -->
    <div class="form-group">
      <label for="fullName" class="form-label">Nombre Completo</label>
      <input id="fullName" formControlName="fullName" class="form-control" readonly />
      <div *ngIf="addressForm.get('fullName')?.invalid && addressForm.get('fullName')?.touched" class="error-message">
        Nombre completo es obligatorio.
      </div>
    </div>
   
    <!-- Campo Código Postal -->
    <div class="form-group">
      <label for="postalCode" class="form-label">Código Postal</label>
      <div class="input-group">
        <input 
          id="postalCode" 
          formControlName="postalCode" 
          type="text" 
          placeholder="Escribe el código postal" 
          class="form-control" 
        />
        <button 
          type="button" 
          (click)="onCodigoPostalChange()" 
          class="btn btn-primary">
          Consultar
        </button>
      </div>
    </div>
    
    <!-- Campos Estado, Municipio y Colonia -->
    <div class="form-group">
      <label for="state" class="form-label">Estado</label>
      <input id="state" formControlName="state" class="form-control" readonly />
    </div>

    <div class="form-group">
      <label for="municipality" class="form-label">Municipio</label>
      <input id="municipality" formControlName="municipality" class="form-control" readonly />
    </div>

    <div class="form-group">
      <label for="locality" class="form-label">Colonia</label>
      <select id="locality" formControlName="locality" class="form-control">
        <option value="">Seleccione una colonia</option>
        <option *ngFor="let colonia of colonias" [value]="colonia">{{ colonia }}</option>
      </select>
    </div>
    
    <!-- Calle y Número -->
    <div class="form-group">
      <label for="street" class="form-label">Calle</label>
      <input id="street" formControlName="street" class="form-control" />
      <div *ngIf="addressForm.get('street')?.invalid && addressForm.get('street')?.touched" class="error-message">
        Calle es obligatoria.
      </div>
    </div>

    <div class="form-group">
      <label for="number" class="form-label">Número</label>
      <input id="number" formControlName="number" class="form-control" />
      <div *ngIf="addressForm.get('number')?.invalid && addressForm.get('number')?.touched" class="error-message">
        Número es obligatorio.
      </div>
    </div>

    <!-- Número Interior -->
    <div class="form-group">
      <label for="interiorNumber" class="form-label">Número Interior</label>
      <input id="interiorNumber" formControlName="interiorNumber" class="form-control"  />
    </div>SN

    <!-- Calles Cruzadas -->
    <div class="form-group">
      <label for="crossStreet1" class="form-label">Calle 1</label>
      <input id="crossStreet1" formControlName="crossStreet1" class="form-control" />
      <div *ngIf="addressForm.get('crossStreet1')?.invalid && addressForm.get('crossStreet1')?.touched" class="error-message">
        Calle 1 es obligatoria.
      </div>
    </div>

    <div class="form-group">
      <label for="crossStreet2" class="form-label">Calle 2</label>
      <input id="crossStreet2" formControlName="crossStreet2" class="form-control" />
      <div *ngIf="addressForm.get('crossStreet2')?.invalid && addressForm.get('crossStreet2')?.touched" class="error-message">
        Calle 2 es obligatoria.
      </div>
    </div>

    <!-- Selección de Tipo de Dirección -->
    <div class="form-group">
      <label>Tipo de Dirección</label>
      <div>
        <label>
          <input type="radio" formControlName="addressType" value="home" />
          Casa
        </label>
        <label>
          <input type="radio" formControlName="addressType" value="work" />
          Trabajo
        </label>
      </div>
    </div>

    <!-- Número de Contacto Celular -->
    <div class="form-group">
      <label for="contactNumber" class="form-label">Número de Contacto Celular</label>
      <div class="input-group">
        <input 
          class="form-control" 
          value="+52" 
          readonly 
          style="width: 60px; text-align: center;" 
        />
        <input 
          id="contactNumber" 
          formControlName="contactNumber" 
          class="form-control" 
          placeholder="XXXXXXXXXX" 
          maxlength="10" 
        />
      </div>
      <div *ngIf="addressForm.get('contactNumber')?.invalid && addressForm.get('contactNumber')?.touched" class="error-message">
        Número de contacto es obligatorio y debe tener 10 dígitos.
      </div>
    </div>

    <!-- Descripción/Fachada -->
    <div class="form-group">
      <label for="description" class="form-label">Descripción/Fachada</label>
      <input id="description" formControlName="description" class="form-control" />
      <div *ngIf="addressForm.get('description')?.invalid && addressForm.get('description')?.touched" class="error-message">
        Descripción es obligatoria.
      </div>
    </div>

    <!-- Botón de Guardar -->
    <button type="submit" class="submit-button">Guardar</button>

    <!-- Mensajes de estado de envío del formulario -->
    <div *ngIf="formStatus === 'success'" class="success-message">¡Formulario enviado con éxito!</div>
    <div *ngIf="formStatus === 'error'" class="error-message">Por favor corrige los errores en el formulario.</div>
  </form>
</div>
